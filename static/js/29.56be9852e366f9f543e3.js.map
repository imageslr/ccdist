{"version":3,"sources":["webpack:///src/views/me/ChangeEmail.vue","webpack:///./src/views/me/ChangeEmail.vue?9d71","webpack:///./src/views/me/ChangeEmail.vue","webpack:///./src/views/me/ChangeEmail.vue?aa7a"],"names":["ChangeEmail","data","email","loading","sending","sended","computed","isEmailNotActivated","this","$store","getters","userInfo","email_activated","methods","onSubmit","_this","Object","validate","$message","warning","$t","user","then","_ref","commit","success","catch","onSend","_this2","me_ChangeEmail","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","_v","ref","attrs","label-position","label","disabled","_s","type","on","click","title","_e","model","callback","$$v","staticRenderFns","__vue_styles__","context","__webpack_require__","Component","component_normalizer","customBlock","__esModule","default","__webpack_exports__","module","exports","options","__i18n","push","_Ctor"],"mappings":"gJAwEAA,GACAC,KADA,WAEA,OACAC,MAAA,GACAC,SAAA,EACAC,SAAA,EACAC,QAAA,IAGAC,UACAC,oBADA,WAEA,OAAAC,KAAAC,OAAAC,QAAAC,SAAAT,QAAAM,KAAAC,OAAAC,QAAAC,SAAAC,kBAGAC,SACAC,SADA,WACA,IAAAC,EAAAP,KACAN,EAAAM,KAAAN,MACA,OAAAc,OAAAC,EAAA,EAAAD,CAAAd,GAGAA,IAAAM,KAAAC,OAAAC,QAAAC,SAAAT,MACAM,KAAAU,SAAAC,QAAAX,KAAAY,GAAA,iBAEAZ,KAAAL,SAAA,OACAa,OAAAK,EAAA,EAAAL,EAAAd,UAAAoB,KAAA,SAAAC,GAAA,IAAAtB,EAAAsB,EAAAtB,KACAc,EAAAZ,SAAA,EACAY,EAAAb,MAAA,GACAa,EAAAN,OAAAe,OAAA,eAAAvB,GACAc,EAAAG,SAAAO,QAAAV,EAAAK,GAAA,sCACAM,MAAA,WACAX,EAAAZ,SAAA,KAZAK,KAAAU,SAAAC,QAAAX,KAAAY,GAAA,gBAeAO,OAnBA,WAmBA,IAAAC,EAAApB,KACAA,KAAAJ,SAAA,EACAY,OAAAK,EAAA,EAAAL,GAAAM,KAAA,WACAM,EAAAxB,SAAA,EACAwB,EAAAvB,QAAA,EACAuB,EAAAV,SAAAO,QAAAG,EAAAR,GAAA,6BACAM,MAAA,WACAE,EAAAxB,SAAA,OC7GAyB,GADiBC,OAFjB,WAA0B,IAAAC,EAAAvB,KAAawB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAwBF,EAAA,MAAWG,aAAaC,KAAA,IAAAC,QAAA,MAAAC,MAAA,SAAAC,WAAA,aAA8DL,YAAA,QAAoBL,EAAAW,GAAA,KAAAR,EAAA,WAA4BS,IAAA,OAAAC,OAAkBC,iBAAA,SAAwBX,EAAA,gBAAqBU,OAAOE,MAAAf,EAAAX,GAAA,YAAyBc,EAAA,YAAiBU,OAAOJ,MAAAT,EAAAtB,OAAAC,QAAAC,SAAAT,OAAA6B,EAAAX,GAAA,UAAA2B,SAAA,MAA6EhB,EAAAW,GAAA,KAAAX,EAAAtB,OAAAC,QAAAC,SAAA,OAAAoB,EAAA,oBAAAG,EAAA,YAA4FE,YAAA,UAAoBF,EAAA,OAAAH,EAAAW,GAAA,iBAAAX,EAAAiB,GAAAjB,EAAAX,GAAA,+DAAAW,EAAA1B,OAAmN6B,EAAA,aAA2DU,OAAOG,SAAA,GAAAE,KAAA,UAA6BlB,EAAAW,GAAAX,EAAAiB,GAAAjB,EAAAX,GAAA,eAAlTc,EAAA,aAA+IU,OAAOzC,QAAA4B,EAAA3B,QAAA6C,KAAA,QAAoCC,IAAKC,MAAApB,EAAAJ,UAAoBI,EAAAW,GAAAX,EAAAiB,GAAAjB,EAAAX,GAAA,qBAA+F,KAAAc,EAAA,YAA2DE,YAAA,QAAAQ,OAA2BQ,MAAArB,EAAAX,GAAA,WAAuBW,EAAAsB,KAAAtB,EAAAW,GAAA,KAAAR,EAAA,WAAsCE,YAAA,cAAwBL,EAAAW,GAAAX,EAAAiB,GAAAjB,EAAAX,GAAA,sCAAAW,EAAAW,GAAA,KAAAR,EAAA,gBAA4FU,OAAOE,MAAAf,EAAAX,GAAA,WAAwBc,EAAA,YAAiBoB,OAAOd,MAAAT,EAAA,MAAAwB,SAAA,SAAAC,GAA2CzB,EAAA7B,MAAAsD,GAAcf,WAAA,YAAqB,GAAAV,EAAAW,GAAA,KAAAR,EAAA,gBAAAA,EAAA,aAAqDU,OAAOzC,QAAA4B,EAAA5B,QAAA8C,KAAA,WAAuCC,IAAKC,MAAApB,EAAAjB,YAAsBiB,EAAAW,GAAAX,EAAAiB,GAAAjB,EAAAX,GAAA,wBAEv2CqC,oBCQjB,IAEAC,EAZA,SAAAC,GACAC,EAAA,SAgBAC,EAAA7C,OAAA8C,EAAA,EAAA9C,CACAhB,EACA6B,GATA,EAWA6B,EAPA,kBAEA,MAWAK,EAAAH,EAAA,QACAG,KAAAC,aACAD,IAAAE,SAEA,mBAAAF,GACAA,EAAAF,GAIAK,EAAA,QAAAL,EAAA,iDCpCAM,EAAAC,QAAA,SAAAP,GACAA,EAAAQ,QAAAC,OAAAT,EAAAQ,QAAAC,WACAT,EAAAQ,QAAAC,OAAAC,KAAA,85BACAV,EAAAQ,QAAAG","file":"static/js/29.56be9852e366f9f543e3.js","sourcesContent":["<i18n>\n{\n  \"en\": {\n    \"修改绑定邮箱\": \"Change Email Address\",\n    \"已绑定邮箱\": \"Current email address\",\n    \"还未绑定邮箱\": \"Have not bound email yet\",\n    \"绑定并激活邮箱后，您将可以使用邮箱登录网站及接收通知\": \"You can sign in the website or receive notifications via email after binding and activation\",\n    \"新邮箱不能与原邮箱相同\": \"New and original email address cannot be same\",\n    \"您的邮箱还未激活，请前往邮箱查看您的激活邮件。如果未收到邮件或邮件已过期，您可以\": \"Your email has not been activated. Please go to the email to view your activation email. If you have not received the message or the message has expired, you can\",\n    \"重新发送激活邮件\": \"Resend activation email\",\n    \"已发送\": \"Sended\",\n    \"已激活\": \"Activated\",\n    \"更换邮箱\": \"New email address\",\n    \"确 定\": \"Submit\",\n    \"请输入正确的邮箱地址\": \"Please enter a valid email address\",\n    \"系统已向该邮箱发送了一封激活邮件，请注意查收\": \"The system has sent an activation email to the address. Please check it.\",\n    \"修改绑定邮箱成功，系统已向该邮箱发送了一封激活邮件，请注意查收\": \"The binding email is successfully modified. The system has sent an activation email to the address. Please check it.\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"container\">\n    <h2\n      v-t=\"'修改绑定邮箱'\"\n      class=\"mt0\" />\n    <el-form\n      ref=\"form\"\n      label-position=\"top\">\n      <el-form-item :label=\"$t('已绑定邮箱')\">\n        <el-input\n          :value=\"$store.getters.userInfo.email || $t('还未绑定邮箱')\"\n          disabled/>\n        <template v-if=\"$store.getters.userInfo.email\">\n          <my-alert\n            v-if=\"isEmailNotActivated\"\n            class=\"alert\">\n            <div>\n              {{ $t('您的邮箱还未激活，请前往邮箱查看您的激活邮件。如果未收到邮件或邮件已过期，您可以') }}\n              <el-button\n                v-if=\"!sended\"\n                :loading=\"sending\"\n                type=\"text\"\n                @click=\"onSend\">{{ $t('重新发送激活邮件') }} </el-button>\n              <el-button\n                v-else\n                disabled\n                type=\"text\">{{ $t('已发送') }} </el-button>\n            </div>\n          </my-alert>\n          <my-alert\n            v-else\n            :title=\"$t('已激活')\"\n            class=\"alert\"/>\n        </template>\n        <el-card class=\"tips-card\">{{ $t('绑定并激活邮箱后，您将可以使用邮箱登录网站及接收通知') }}</el-card>\n      </el-form-item>\n      <el-form-item :label=\"$t('更换邮箱')\">\n        <el-input v-model=\"email\" />\n      </el-form-item>\n      <el-form-item>\n        <el-button\n          :loading=\"loading\"\n          type=\"primary\"\n          @click=\"onSubmit\">{{ $t('确 定') }}</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { validateEmail } from '@/utils/validate'\nimport { updateCurrentUserInfo, sendActiveMail } from '@/api/user'\nexport default {\n  data () {\n    return {\n      email: '',\n      loading: false,\n      sending: false,\n      sended: false\n    }\n  },\n  computed: {\n    isEmailNotActivated () {\n      return this.$store.getters.userInfo.email && !this.$store.getters.userInfo.email_activated\n    }\n  },\n  methods: {\n    onSubmit () {\n      const { email } = this\n      if (!validateEmail(email)) {\n        return this.$message.warning(this.$t('请输入正确的邮箱地址'))\n      }\n      if (email === this.$store.getters.userInfo.email) {\n        return this.$message.warning(this.$t('新邮箱不能与原邮箱相同'))\n      }\n      this.loading = true\n      updateCurrentUserInfo({ email }).then(({ data }) => {\n        this.loading = false\n        this.email = ''\n        this.$store.commit('SET_USERINFO', data)\n        this.$message.success(this.$t('修改绑定邮箱成功，系统已向该邮箱发送了一封激活邮件，请注意查收'))\n      }).catch(() => {\n        this.loading = false\n      })\n    },\n    onSend () {\n      this.sending = true\n      sendActiveMail().then(() => {\n        this.sending = false\n        this.sended = true\n        this.$message.success(this.$t('系统已向该邮箱发送了一封激活邮件，请注意查收'))\n      }).catch(() => {\n        this.sending = false\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  position: relative;\n  padding: 24px 32px;\n  .el-form {\n    width: 600px;\n    .alert {\n      margin-top: 12px;\n      line-height: 20px;\n      color: rgba(0, 0, 0, 0.85);\n      .el-button {\n        padding-top: 0;\n        padding-bottom: 0;\n      }\n    }\n  }\n}\n.tips-card {\n  position: absolute;\n  top: 0px;\n  left: 660px;\n  width: 260px;\n  font-size: 14px;\n  line-height: 1.8em;\n  color: rgba($color: #000000, $alpha: 0.65);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/me/ChangeEmail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h2',{directives:[{name:\"t\",rawName:\"v-t\",value:('修改绑定邮箱'),expression:\"'修改绑定邮箱'\"}],staticClass:\"mt0\"}),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('已绑定邮箱')}},[_c('el-input',{attrs:{\"value\":_vm.$store.getters.userInfo.email || _vm.$t('还未绑定邮箱'),\"disabled\":\"\"}}),_vm._v(\" \"),(_vm.$store.getters.userInfo.email)?[(_vm.isEmailNotActivated)?_c('my-alert',{staticClass:\"alert\"},[_c('div',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('您的邮箱还未激活，请前往邮箱查看您的激活邮件。如果未收到邮件或邮件已过期，您可以'))+\"\\n            \"),(!_vm.sended)?_c('el-button',{attrs:{\"loading\":_vm.sending,\"type\":\"text\"},on:{\"click\":_vm.onSend}},[_vm._v(_vm._s(_vm.$t('重新发送激活邮件'))+\" \")]):_c('el-button',{attrs:{\"disabled\":\"\",\"type\":\"text\"}},[_vm._v(_vm._s(_vm.$t('已发送'))+\" \")])],1)]):_c('my-alert',{staticClass:\"alert\",attrs:{\"title\":_vm.$t('已激活')}})]:_vm._e(),_vm._v(\" \"),_c('el-card',{staticClass:\"tips-card\"},[_vm._v(_vm._s(_vm.$t('绑定并激活邮箱后，您将可以使用邮箱登录网站及接收通知')))])],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('更换邮箱')}},[_c('el-input',{model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(_vm._s(_vm.$t('确 定')))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3236e505\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/me/ChangeEmail.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3236e505\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChangeEmail.vue\")\n}\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChangeEmail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChangeEmail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3236e505\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChangeEmail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3236e505\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* customBlocks */\nvar customBlock = require(\"!!@kazupon/vue-i18n-loader!../../../node_modules/vue-loader/lib/selector?type=customBlocks&index=0!./ChangeEmail.vue\")\nif (customBlock && customBlock.__esModule) {\n  customBlock = customBlock.default\n}\nif (typeof customBlock === \"function\") {\n  customBlock(Component)\n}\n\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/me/ChangeEmail.vue\n// module id = null\n// module chunks = ","module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"en\":{\"修改绑定邮箱\":\"Change Email Address\",\"已绑定邮箱\":\"Current email address\",\"还未绑定邮箱\":\"Have not bound email yet\",\"绑定并激活邮箱后，您将可以使用邮箱登录网站及接收通知\":\"You can sign in the website or receive notifications via email after binding and activation\",\"新邮箱不能与原邮箱相同\":\"New and original email address cannot be same\",\"您的邮箱还未激活，请前往邮箱查看您的激活邮件。如果未收到邮件或邮件已过期，您可以\":\"Your email has not been activated. Please go to the email to view your activation email. If you have not received the message or the message has expired, you can\",\"重新发送激活邮件\":\"Resend activation email\",\"已发送\":\"Sended\",\"已激活\":\"Activated\",\"更换邮箱\":\"New email address\",\"确 定\":\"Submit\",\"请输入正确的邮箱地址\":\"Please enter a valid email address\",\"系统已向该邮箱发送了一封激活邮件，请注意查收\":\"The system has sent an activation email to the address. Please check it.\",\"修改绑定邮箱成功，系统已向该邮箱发送了一封激活邮件，请注意查收\":\"The binding email is successfully modified. The system has sent an activation email to the address. Please check it.\"}}')\n  delete Component.options._Ctor\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@kazupon/vue-i18n-loader/lib!./node_modules/vue-loader/lib/selector.js?type=customBlocks&index=0!./src/views/me/ChangeEmail.vue\n// module id = gLuh\n// module chunks = 29"],"sourceRoot":""}