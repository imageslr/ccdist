webpackJsonp([6],{"5QFf":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh":{"signIn":"其他登录方式","signUp":"其他注册方式"},"en":{"signIn":"Third party","signUp":"Third party"}}'),delete e.options._Ctor}},"5UiT":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh":{"title":"安全验证","bodyTitle":"请验证电话号码","description":"我们将向下方输入的手机号码发送短信验证码。","phone":"电话号码","send":"发送验证码","cancel":"返回","enterCode":"请输入验证码完成登录，接收验证码可能需要几分钟。","code":"验证码","confirm":"通过验证","notReceived":"没有收到？","sendAgain":"再发一次","success":"发送成功","signUpSuccess":"注册成功","requireCode":"请输入验证码"},"en":{"title":"Security Verification","bodyTitle":"Please verify the phone number","description":"We will send a SMS verification code to the mobile number entered below.","phone":"Phone Number","send":"Send verification code","cancel":"Cancel","enterCode":"Please enter the verification code to complete the login. It may take a few minutes to receive the verification code.","code":"Verification code","confirm":"Approved and sign up","notReceived":"Did not receive?","sendAgain":"Send again","success":"Send succeed","signUpSuccess":"Sign up succeed","requireCode":"Please enter the verification code"}}'),delete e.options._Ctor}},"7Otq":function(e,t,n){e.exports=n.p+"static/img/logo.3bfcee4.png"},IPeF:function(e,t){},ebz8:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh":{"name":"真实姓名","phone":"手机","password":"密码（至少 6 个字符）","confirmPassword":"确认密码","type":"您的身份","client":"甲方","designer":"设计师","signUpBtn":"立即加入","term":"您同意遵守本网站的《用户协议》及《隐私政策》","thirdParty":"其他注册方式","loginBtn":"已有账号登录","messages":{"name":"请输入真实姓名（中文名或英文名，2~50个字符）","phone":"请输入合法手机号","password":"密码长度为 6 到 25 个字符","type":"请选择您的身份"}},"en":{"name":"Real name","phone":"Chinese Phone","password":"Password (at least 6 characters)","confirmPassword":"Confirm password","type":"Your identity","client":"Client","designer":"Designer","signUpBtn":"Sign up","term":"You agree to abide by the User Agreement and Privacy Policy of this website.","thirdParty":"Third party","loginBtn":"Sign in","messages":{"name":"Please enter your real name (between 2 to 50 characters)","phone":"Please enter a valid Chinese phone number","password":"Password length is 6 to 25 characters","type":"Please select your identity"},"同一个手机号可以注册两个不同身份的账号":"A same phone number can register two accounts with different user type","使用邮箱注册":"Sign up with email"}}'),delete e.options._Ctor}},jxVh:function(e,t,n){"use strict";var i=n("XyMi"),s=n("D4uH");s.a.register({"brands/weixin":{width:576,height:512,paths:[{d:"M385.2 167.6C391.6 167.6 397.8 167.9 404 168.7 387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4 13 250.8 42.3 294.9 90.9 329L71.6 387.6 139.6 353.5C164 358.3 183.4 363.2 207.8 363.2 214 363.2 219.9 362.9 226.1 362.4 222.1 349.5 219.9 335.8 219.9 321.6 219.8 236.7 292.8 167.6 385.2 167.6zM280.7 114.7C295.2 114.7 304.9 124.4 304.9 139.1 304.9 153.6 295.2 163.3 280.7 163.3 265.9 163.3 251.4 153.6 251.4 139.1 251.5 124.4 266 114.7 280.7 114.7zM144.3 163.3C129.8 163.3 115 153.6 115 139.1 115 124.3 129.8 114.7 144.3 114.7 159.1 114.7 168.7 124.4 168.7 139.1 168.7 153.7 159.1 163.3 144.3 163.3zM563 319.4C563 241.5 485.1 178.1 397.6 178.1 304.9 178.1 232.2 241.5 232.2 319.4S305 460.7 397.6 460.7C416.9 460.7 436.5 455.6 456.2 450.8L509.6 480.1 494.8 431.5C534 402.1 563 363.2 563 319.4zM343.9 294.9C334.2 294.9 324.6 285.2 324.6 275.3 324.6 265.6 334.3 256 343.9 256 358.7 256 368.3 265.7 368.3 275.3 368.3 285.3 358.6 294.9 343.9 294.9zM451 294.9C441.3 294.9 431.7 285.2 431.7 275.3 431.7 265.6 441.4 256 451 256 465.5 256 475.4 265.7 475.4 275.3 475.5 285.3 465.5 294.9 451 294.9z"}]}}),s.a.register({"brands/google":{width:488,height:512,paths:[{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8C314.8 8 371 32.5 414.3 72.9L346.8 137.8C258.5 52.6 94.3 116.6 94.3 256 94.3 342.5 163.4 412.6 248 412.6 346.2 412.6 383 342.2 388.8 305.7H248V220.4H484.1C486.4 233.1 488 245.3 488 261.8z"}]}}),s.a.register({"brands/facebook":{width:448,height:512,paths:[{d:"M448 56.7V455.2C448 468.9 436.9 479.9 423.3 479.9H309.1V306.5H367.3L376 238.9H309V195.7C309 176.1 314.4 162.8 342.5 162.8H378.3V102.3C372.1 101.5 350.9 99.6 326.1 99.6 274.5 99.6 239.1 131.1 239.1 189V238.9H180.7V306.5H239.1V480H24.7C11.1 480 0 468.9 0 455.3V56.7C0 43.1 11.1 32 24.7 32H423.2C436.9 32 448 43.1 448 56.7z"}]}});var o={props:{formType:{type:String,default:"signUp"}},methods:{onClickIcon:function(){this.$message.error("TODO")}}},a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"third-party"},[n("span",[e._v(e._s(e.$t(e.formType))+"：")]),e._v(" "),n("icon",{attrs:{name:"brands/weixin"},nativeOn:{click:function(t){return e.onClickIcon(t)}}}),e._v(" "),n("icon",{attrs:{name:"brands/google"},nativeOn:{click:function(t){return e.onClickIcon(t)}}}),e._v(" "),n("icon",{attrs:{name:"brands/facebook"},nativeOn:{click:function(t){return e.onClickIcon(t)}}})],1)},staticRenderFns:[]};var r=function(e){n("np8o")},c=Object(i.a)(o,a,!1,r,null,null),l=n("5QFf");l&&l.__esModule&&(l=l.default),"function"==typeof l&&l(c);t.a=c.exports},kBDP:function(e,t){},np8o:function(e,t){},vnOY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("XyMi"),s=n("6gxQ"),o=n("jxVh"),a=n("woOf"),r=n.n(a),c=n("Dd8w"),l=n.n(c),d=n("0xDb"),p=n("vMJZ"),u={props:{visible:{type:Boolean,default:!1},userInfo:{type:Object,default:function(){return{phone:"",name:"",password:"",type:""}}}},data:function(){return{loading:!1,code:"",step:"confirming"}},computed:{phone:function(){return this.userInfo.phone},splittedPhone:function(){return Object(d.c)(this.phone)}},methods:{onSend:function(){var e=this;this.loading=!0;var t=this.userInfo,n=t.phone,i=t.type;Object(p.m)(n,i,"register").then(function(t){e.loading=!1,e.step="sended",e.$message.success(e.$t("success"))}).catch(function(){e.loading=!1})},onApprove:function(){var e=this;if(!this.code)return this.$message.error(this.$t("requireCode"));this.loading=!0;var t=this.code,n=this.userInfo;return this.$store.dispatch("signUp",l()({},n,{verification_code:t})).then(function(){e.loading=!1,e.$message.success(e.$t("signUpSuccess")),e.$router.push({path:"/feed"})}).catch(function(){e.loading=!1})},onClosed:function(){r()(this.$data,this.$options.data()),this.$emit("closed")}}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"send-code-dialog",attrs:{title:e.$t("title"),visible:e.visible,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.$emit("update:visible",t)},closed:e.onClosed}},[n("section",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-body"},["confirming"===e.step?[n("h1",[e._v(e._s(e.$t("bodyTitle")))]),e._v(" "),n("h2",[e._v(e._s(e.$t("description")))]),e._v(" "),n("div",{staticClass:"input-container"},[n("label",[e._v(e._s(e.$t("phone")))]),e._v(" "),n("div",{staticClass:"input"},[e._v(e._s(e.splittedPhone))])]),e._v(" "),n("el-button",{staticClass:"w-100 primary-btn",attrs:{size:"large",type:"primary"},on:{click:e.onSend}},[e._v(e._s(e.$t("send")))]),e._v(" "),n("el-button",{staticClass:"w-100 cancel-btn",attrs:{size:"large",type:"info"},on:{click:function(t){e.$emit("update:visible",!1)}}},[e._v(e._s(e.$t("cancel")))])]:"sended"===e.step?[n("h1",[e._v(e._s(e.$t("bodyTitle")))]),e._v(" "),n("h2",[e._v(e._s(e.$t("enterCode")))]),e._v(" "),n("div",{staticClass:"input-container"},[n("label",[e._v(e._s(e.$t("code")))]),e._v(" "),n("el-input",{model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),e._v(" "),n("p",[e._v(e._s(e.$t("notReceived"))+"\n        "),n("span",{staticClass:"send-again-btn",on:{click:e.onSend}},[e._v(e._s(e.$t("sendAgain")))])]),e._v(" "),n("el-button",{staticClass:"w-100 primary-btn",attrs:{size:"large",type:"primary"},on:{click:e.onApprove}},[e._v(e._s(e.$t("confirm")))])]:e._e()],2)])},staticRenderFns:[]};var m=function(e){n("kBDP"),n("zXHG")},h=Object(i.a)(u,f,!1,m,"data-v-8ccff616",null),g=n("5UiT");g&&g.__esModule&&(g=g.default),"function"==typeof g&&g(h);var v=h.exports,_=n("E4LH"),b={components:{AppFooter:s.a,SendCodeDialog:v,ThirdParty:o.a},data:function(){return{form:{name:"",phone:"",password:"",type:""},rules:{name:{required:!0,pattern:_.a,min:1,max:50,message:this.$t("messages.name")},phone:{required:!0,pattern:_.b,message:this.$t("messages.phone")},password:{required:!0,min:6,max:25,message:this.$t("messages.password")},type:{required:!0,message:this.$t("messages.type")}},signUpBtnDisabled:!1,signUpBtnLoading:!1,dialogVisible:!1}},created:function(){this.form.type=this.$route.query.type||""},methods:{onSubmit:function(){var e=this;this.$refs.signUpForm.validate(function(t,n){t?(e.signUpBtnLoading=!0,Object(p.d)(e.form.phone,e.form.type).then(function(){e.signUpBtnLoading=!1,e.dialogVisible=!0,e.signUpBtnDisabled=!0}).catch(function(){e.signUpBtnLoading=!1})):e.showErrMessage(n)})},onDialogClosed:function(){this.signUpBtnDisabled=!1},showErrMessage:function(e){var t=this;["name","phone","password","type"].some(function(n){return!!e[n]&&(t.$message.error(e[n][0].message),!0)})}}},y={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[i("section",[i("h1",[i("img",{staticStyle:{width:"auto",height:"30px","margin-right":"8px","vertical-align":"middle",cursor:"pointer"},attrs:{src:n("7Otq")},on:{click:function(t){e.$router.push("/")}}}),e._v(" "),i("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){e.$router.push("/")}}},[e._v(e._s(e.$t("app.title")))])]),e._v(" "),i("p",[e._v(e._s(e.$t("app.description")))]),e._v(" "),i("el-form",{ref:"signUpForm",attrs:{rules:e.rules,model:e.form,"show-message":!1,size:"small","label-position":"top"}},[i("el-form-item",{attrs:{label:e.$t("name"),prop:"name"}},[i("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("phone"),prop:"phone"}},[i("el-tooltip",{attrs:{content:e.$t("同一个手机号可以注册两个不同身份的账号"),placement:"right"}},[i("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("password"),prop:"password"}},[i("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("type"),prop:"type"}},[i("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[i("el-radio",{attrs:{label:"client"}},[e._v(e._s(e.$t("client")))]),e._v(" "),i("el-radio",{attrs:{label:"designer"}},[e._v(e._s(e.$t("designer")))])],1)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{loading:e.signUpBtnLoading,disabled:e.signUpBtnDisabled,type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("signUpBtn")))])],1),e._v(" "),i("p",{staticClass:"term"},[e._v(e._s(e.$t("term")))]),e._v(" "),i("div",{staticClass:"extra-action"},[i("router-link",{attrs:{to:"/signup/email"}},[e._v(e._s(e.$t("使用邮箱注册")))]),e._v(" "),i("router-link",{attrs:{to:"signin"}},[e._v(e._s(e.$t("loginBtn")))])],1)],1)],1),e._v(" "),i("app-footer",{staticClass:"footer"}),e._v(" "),i("send-code-dialog",{attrs:{visible:e.dialogVisible,"user-info":e.form},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.onDialogClosed}})],1)},staticRenderFns:[]};var C=function(e){n("IPeF")},$=Object(i.a)(b,y,!1,C,"data-v-913824b0",null),w=n("ebz8");w&&w.__esModule&&(w=w.default),"function"==typeof w&&w($);t.default=$.exports},zXHG:function(e,t){}});
//# sourceMappingURL=6.736ff84ee9d8d5ab0a2d.js.map