{"version":3,"sources":["webpack:///./src/views/login/EmailRegister.vue?842b","webpack:///src/views/login/EmailRegister.vue","webpack:///./src/views/login/EmailRegister.vue?a8fa","webpack:///./src/views/login/EmailRegister.vue"],"names":["module","exports","Component","options","__i18n","push","_Ctor","EmailRegister","data","form","type","name","email","password","verification_code","rules","required","message","this","$t","pattern","validate","min","max","trigger","len","loading","sending","count","timer","computed","sendButtonText","methods","onSend","_this","Object","user","then","countDown","catch","$message","warning","onSubmit","_this2","$refs","valid","$store","dispatch","success","$router","path","_this3","setTimeout","clearTimeout","login_EmailRegister","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","value","expression","_v","ref","attrs","model","size","label","prop","callback","$$v","$set","_s","slot","disabled","on","click","staticStyle","display","to","staticRenderFns","__vue_styles__","context","__webpack_require__","component_normalizer","customBlock","__esModule","default","__webpack_exports__"],"mappings":"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","file":"static/js/33.8d002b722fa097b5259e.js","sourcesContent":["module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"zh\":{\"countdown\":\"重新获取验证码({count})\"},\"en\":{\"使用邮箱注册\":\"Sign up with email\",\"邮箱\":\"Email\",\"用户类型\":\"User type\",\"设计师\":\"Designer\",\"甲方\":\"Client\",\"真实姓名\":\"Real name\",\"获取验证码\":\"Send verification code\",\"验证码\":\"Verification code\",\"密码\":\"Password\",\"确 定\":\"Submit\",\"请选择用户类型\":\"Please select user type\",\"请输入真实姓名（中文名或英文名，2~50个字符）\":\"Please enter your real name (between 2 to 50 characters)\",\"请输入合法邮箱地址\":\"Please enter a valid email address\",\"请输入6位验证码\":\"Please enter 6 characters verification code\",\"请输入密码\":\"Please enter a password\",\"密码长度为 6 到 25 个字符\":\"Password length is 6 to 25 characters\",\"注册成功\":\"Successfully sign up\",\"已有账号登录\":\"Sign in\",\"countdown\":\"Resend verification code ({count})\"}}')\n  delete Component.options._Ctor\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@kazupon/vue-i18n-loader/lib!./node_modules/vue-loader/lib/selector.js?type=customBlocks&index=0!./src/views/login/EmailRegister.vue\n// module id = KBvX\n// module chunks = 33","<i18n>\n{\n  \"zh\": {\n    \"countdown\": \"重新获取验证码({count})\"\n  },\n  \"en\": {\n    \"使用邮箱注册\": \"Sign up with email\",\n    \"邮箱\": \"Email\",\n    \"用户类型\": \"User type\",\n    \"设计师\": \"Designer\",\n    \"甲方\": \"Client\",\n    \"真实姓名\": \"Real name\",\n    \"获取验证码\": \"Send verification code\",\n    \"验证码\": \"Verification code\",\n    \"密码\": \"Password\",\n    \"确 定\": \"Submit\",\n    \"请选择用户类型\": \"Please select user type\",\n    \"请输入真实姓名（中文名或英文名，2~50个字符）\": \"Please enter your real name (between 2 to 50 characters)\",\n    \"请输入合法邮箱地址\": \"Please enter a valid email address\",\n    \"请输入6位验证码\": \"Please enter 6 characters verification code\",\n    \"请输入密码\": \"Please enter a password\",\n    \"密码长度为 6 到 25 个字符\": \"Password length is 6 to 25 characters\",\n    \"注册成功\": \"Successfully sign up\",\n    \"已有账号登录\": \"Sign in\",\n    \"countdown\": \"Resend verification code ({count})\"\n  }\n}\n</i18n>\n\n<template>\n  <section class=\"container\">\n    <h1 v-t=\"'使用邮箱注册'\" />\n    <el-form\n      ref=\"form\"\n      :rules=\"rules\"\n      :model=\"form\"\n      size=\"small\">\n      <el-form-item\n        :label=\"$t('用户类型')\"\n        prop=\"type\">\n        <el-radio-group v-model=\"form.type\">\n          <el-radio label=\"client\">{{ $t('甲方') }}</el-radio>\n          <el-radio label=\"designer\">{{ $t('设计师') }}</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item\n        :label=\"$t('真实姓名')\"\n        prop=\"name\">\n        <el-input\n          v-model=\"form.name\"\n          type=\"text\"/>\n      </el-form-item>\n      <el-form-item\n        :label=\"$t('邮箱')\"\n        prop=\"email\">\n        <el-input v-model=\"form.email\">\n          <el-button\n            slot=\"append\"\n            :loading=\"sending\"\n            :disabled=\"!!count\"\n            @click=\"onSend\">{{ sendButtonText }} </el-button>\n        </el-input>\n      </el-form-item>\n      <el-form-item\n        :label=\"$t('验证码')\"\n        prop=\"verification_code\">\n        <el-input v-model=\"form.verification_code\"/>\n      </el-form-item>\n      <el-form-item\n        :label=\"$t('密码')\"\n        prop=\"password\">\n        <el-input\n          v-model=\"form.password\"\n          type=\"text\"/>\n      </el-form-item>\n      <el-form-item>\n        <el-button\n          :loading=\"loading\"\n          type=\"primary\"\n          @click=\"onSubmit\">{{ $t('确 定') }}</el-button>\n        <router-link\n          to=\"/signin\"\n          class=\"center\"\n          style=\"display:block;\">{{ $t('已有账号登录') }}</router-link>\n      </el-form-item>\n    </el-form>\n  </section>\n</template>\n\n<script>\nimport { namePattern, validateEmail } from '@/utils/validate'\nimport { sendEmailCode } from '@/api/user'\nexport default {\n  data () {\n    return {\n      form: {\n        type: null,\n        name: '',\n        email: '',\n        password: '',\n        verification_code: ''\n      },\n      rules: {\n        type: { required: true, message: this.$t('请选择用户类型') },\n        name: { required: true, pattern: namePattern, min: 1, max: 50, message: this.$t('请输入真实姓名（中文名或英文名，2~50个字符）') },\n        email: { required: true, type: 'email', message: this.$t('请输入合法邮箱'), trigger: 'blur' },\n        verification_code: { required: true, len: 6, message: this.$t('请输入6位验证码'), trigger: 'blur' },\n        password: [\n          { required: true, trigger: 'blur', message: this.$t('请输入密码') },\n          { min: 6, max: 25, trigger: 'blur', message: '密码长度为 6 到 25 个字符' }\n        ]\n      },\n      loading: false,\n      sending: false, // 是否正在发送验证码\n      count: 0, // 倒计时\n      timer: null // 计时器\n    }\n  },\n  computed: {\n    sendButtonText () {\n      const { count } = this\n      if (count) {\n        return this.$t('countdown', { count })\n      } else {\n        return this.$t('获取验证码')\n      }\n    }\n  },\n  methods: {\n    onSend () {\n      if (validateEmail(this.form.email)) {\n        this.sending = true\n        const { email } = this.form\n        sendEmailCode(email, 'register').then(() => {\n          this.sending = false\n          this.count = 60\n          this.countDown()\n        }).catch(() => {\n          this.sending = false\n        })\n      } else {\n        this.$message.warning(this.$t('请输入合法邮箱地址'))\n      }\n    },\n    onSubmit () {\n      this.$refs.form.validate((valid) => {\n        if (valid) {\n          this.loading = true\n          return this.$store.dispatch('signUp', this.form).then(() => {\n            this.loading = false\n            this.$message.success(this.$t('注册成功'))\n            this.$router.push({ path: '/feed' })\n          }).catch(() => {\n            this.loading = false\n          })\n        }\n      })\n    },\n    countDown () {\n      if (this.count > 0) {\n        this.count--\n        this.timer = setTimeout(() => {\n          this.countDown()\n        }, 1000)\n      } else {\n        clearTimeout(this.timer)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  width: 400px;\n  padding: 30px 30px 0;\n  margin: 24px auto 0;\n  background: #ffffff;\n  border: 1px solid #d0d3d6;\n  border-radius: 4px;\n}\nh1 {\n  margin: 0 0 24px 0;\n  color: #000;\n  text-align: center;\n  font-size: 24px;\n  font-weight: 400;\n}\n.el-button {\n  width: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/login/EmailRegister.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"container\"},[_c('h1',{directives:[{name:\"t\",rawName:\"v-t\",value:('使用邮箱注册'),expression:\"'使用邮箱注册'\"}]}),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('用户类型'),\"prop\":\"type\"}},[_c('el-radio-group',{model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},[_c('el-radio',{attrs:{\"label\":\"client\"}},[_vm._v(_vm._s(_vm.$t('甲方')))]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"designer\"}},[_vm._v(_vm._s(_vm.$t('设计师')))])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('真实姓名'),\"prop\":\"name\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('邮箱'),\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"loading\":_vm.sending,\"disabled\":!!_vm.count},on:{\"click\":_vm.onSend},slot:\"append\"},[_vm._v(_vm._s(_vm.sendButtonText)+\" \")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('验证码'),\"prop\":\"verification_code\"}},[_c('el-input',{model:{value:(_vm.form.verification_code),callback:function ($$v) {_vm.$set(_vm.form, \"verification_code\", $$v)},expression:\"form.verification_code\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('密码'),\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(_vm._s(_vm.$t('确 定')))]),_vm._v(\" \"),_c('router-link',{staticClass:\"center\",staticStyle:{\"display\":\"block\"},attrs:{\"to\":\"/signin\"}},[_vm._v(_vm._s(_vm.$t('已有账号登录')))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c68782fc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login/EmailRegister.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c68782fc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EmailRegister.vue\")\n}\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EmailRegister.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EmailRegister.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c68782fc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EmailRegister.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c68782fc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* customBlocks */\nvar customBlock = require(\"!!@kazupon/vue-i18n-loader!../../../node_modules/vue-loader/lib/selector?type=customBlocks&index=0!./EmailRegister.vue\")\nif (customBlock && customBlock.__esModule) {\n  customBlock = customBlock.default\n}\nif (typeof customBlock === \"function\") {\n  customBlock(Component)\n}\n\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/EmailRegister.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}